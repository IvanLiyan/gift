{"remainingRequest":"/Users/ili/Documents/github/giftie/node_modules/babel-loader/lib/index.js!/Users/ili/Documents/github/giftie/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ili/Documents/github/giftie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ili/Documents/github/giftie/src/components/Lottery.Turntable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ili/Documents/github/giftie/src/components/Lottery.Turntable.vue","mtime":1645501590959},{"path":"/Users/ili/Documents/github/giftie/node_modules/cache-loader/dist/cjs.js","mtime":1645501672170},{"path":"/Users/ili/Documents/github/giftie/node_modules/babel-loader/lib/index.js","mtime":1645501673323},{"path":"/Users/ili/Documents/github/giftie/node_modules/cache-loader/dist/cjs.js","mtime":1645501672170},{"path":"/Users/ili/Documents/github/giftie/node_modules/vue-loader/lib/index.js","mtime":1645501675185}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEdMT0JBTF9LRVlTLCBnaWZ0cywgaG9tZUNvbmZpZyB9IGZyb20gJy4uL2dpZnQuc2V0dGluZy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG90dGVyeVR1cm50YWJsZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHRoaXMuZGVmYXVsdFN0eWxlID0gewogICAgICBmb250Q29sb3I6ICIjQUZGRkQ3IiwKICAgICAgZm9udFNpemU6ICIxMHB4IiwKICAgICAgbGluZUhlaWdodDogIjEzcHgiLAogICAgICB3b3JkV3JhcDogZmFsc2UKICAgIH07CiAgICB0aGlzLmFjdGl2ZVN0eWxlID0gewogICAgICBmb250Q29sb3I6ICIjZmZmIgogICAgfTsKICAgIHRoaXMuYmxvY2tzID0gW3sKICAgICAgcGFkZGluZzogIjEwcHgiLAogICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwKSIsCiAgICAgIGJvcmRlclJhZGl1czogIjEwcHgiCiAgICB9XTsKICAgIHRoaXMuYnV0dG9ucyA9IFt7CiAgICAgIHg6IDEsCiAgICAgIHk6IDEsCiAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDApIiwKICAgICAgZm9udHM6IFtdLAogICAgICBpbWdzOiBbewogICAgICAgIHNyYzogcmVxdWlyZSgiLi4vYXNzZXRzL2ltYWdlcy9idXR0b24ucG5nIiksCiAgICAgICAgd2lkdGg6ICIxMDAlIiwKICAgICAgICB0b3A6ICIwIgogICAgICB9XQogICAgfV07CiAgICByZXR1cm4gewogICAgICBwcml6ZXM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0R2lmdExpc3Q6IGZ1bmN0aW9uIGdldEdpZnRMaXN0KCkgewogICAgICB2YXIgcHJpemVzID0gW107CiAgICAgIHZhciBheGlzID0gW1swLCAwXSwgWzEsIDBdLCBbMiwgMF0sIFsyLCAxXSwgWzIsIDJdLCBbMSwgMl0sIFswLCAyXSwgWzAsIDFdXTsKICAgICAgdmFyIGRhdGEgPSBnaWZ0cy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZnVsbE5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgIG5hbWU6IGl0ZW0uYWxpYXMsCiAgICAgICAgICBpbWc6IHJlcXVpcmUoIi4uLy4uL3B1YmxpYyIuY29uY2F0KGl0ZW0uaW1hZ2UpKSwKICAgICAgICAgIHRvcDogJzcwJScKICAgICAgICB9OwogICAgICB9KTsgLy8gbGV0IGRhdGEgPSBbXTsKCiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBwcml6ZXMucHVzaCh7CiAgICAgICAgICB4OiBheGlzW2luZGV4XVswXSwKICAgICAgICAgIHk6IGF4aXNbaW5kZXhdWzFdLAogICAgICAgICAgdGl0bGU6IGl0ZW0ubmFtZSwKICAgICAgICAgIGZ1bGxOYW1lOiBpdGVtLmZ1bGxOYW1lLAogICAgICAgICAgZm9udHM6IFt7CiAgICAgICAgICAgIHRleHQ6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgdG9wOiBpdGVtLnRvcAogICAgICAgICAgfV0sCiAgICAgICAgICBpbWdzOiBbewogICAgICAgICAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pbWFnZXMvYmxvY2stYmcucG5nJyksCiAgICAgICAgICAgIGFjdGl2ZVNyYzogcmVxdWlyZSgnLi4vYXNzZXRzL2ltYWdlcy9hY3RpdmUtYmxvY2stYmcucG5nJyksCiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsCiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHNyYzogaXRlbS5pbWcsCiAgICAgICAgICAgIHdpZHRoOiAnNzAlJywKICAgICAgICAgICAgdG9wOiAnMyUnCiAgICAgICAgICB9XQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5wcml6ZXMgPSBwcml6ZXM7CiAgICB9LAogICAgc3RhcnRDYWxsQmFjazogZnVuY3Rpb24gc3RhcnRDYWxsQmFjaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMubHVja3lHcmlkLnBsYXkoKTsKICAgICAgdmFyIHRhcmdldEdpZnRJbmRleCA9IGhvbWVDb25maWcudGFyZ2V0R2lmdEluZGV4OwoKICAgICAgaWYgKCEhdGFyZ2V0R2lmdEluZGV4ID09PSBmYWxzZSkgewogICAgICAgIHRhcmdldEdpZnRJbmRleCA9IE1hdGgucmFuZG9tKCkgKiA4ID4+IDA7CiAgICAgIH0KCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRyZWZzLmx1Y2t5R3JpZC5zdG9wKHRhcmdldEdpZnRJbmRleCk7CiAgICAgIH0sIGhvbWVDb25maWcudGltZW91dCk7CiAgICB9LAogICAgZW5kQ2FsbEJhY2s6IGZ1bmN0aW9uIGVuZENhbGxCYWNrKHByaXplKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGltZ3MgPSBwcml6ZS5pbWdzLAogICAgICAgICAgZnVsbE5hbWUgPSBwcml6ZS5mdWxsTmFtZTsKICAgICAgdmFyIGltYWdlVXJsID0gaW1nc1sxXS5zcmM7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEdMT0JBTF9LRVlTLkVYSVNUX0tFWSwgJzEnKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oR0xPQkFMX0tFWVMuTkFNRV9LRVksIGZ1bGxOYW1lKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oR0xPQkFMX0tFWVMuSU1BR0VfS0VZLCBpbWFnZVVybCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kZW1pdCgnc3VjY2VzcycpOwogICAgICB9LCAxMjAwKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEdpZnRMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["Lottery.Turntable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAmBA,SAAA,WAAA,EAAA,KAAA,EAAA,UAAA,QAAA,oBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,IAFA,kBAEA;AACA,SAAA,YAAA,GAAA;AACA,MAAA,SAAA,EAAA,SADA;AAEA,MAAA,QAAA,EAAA,MAFA;AAGA,MAAA,UAAA,EAAA,MAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,SAAA,WAAA,GAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,SAAA,MAAA,GAAA,CACA;AAAA,MAAA,OAAA,EAAA,MAAA;AAAA,MAAA,UAAA,EAAA,kBAAA;AAAA,MAAA,YAAA,EAAA;AAAA,KADA,CAAA;AAGA,SAAA,OAAA,GAAA,CACA;AACA,MAAA,CAAA,EAAA,CADA;AAEA,MAAA,CAAA,EAAA,CAFA;AAGA,MAAA,UAAA,EAAA,kBAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA,CACA;AACA,QAAA,GAAA,EAAA,OAAA,CAAA,6BAAA,CADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,GAAA,EAAA;AAHA,OADA;AALA,KADA,CAAA;AAeA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GAjCA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,IAAA,GAAA,CAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA;AACA,UAAA,QAAA,EAAA,IAAA,CAAA,IADA;AAEA,UAAA,IAAA,EAAA,IAAA,CAAA,KAFA;AAGA,UAAA,GAAA,EAAA,OAAA,uBAAA,IAAA,CAAA,KAAA,EAHA;AAIA,UAAA,GAAA,EAAA;AAJA,SAAA;AAMA,OAPA,CAAA,CAHA,CAYA;;AACA,MAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA;AACA,UAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CADA;AAEA,UAAA,CAAA,EAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAFA;AAGA,UAAA,KAAA,EAAA,IAAA,CAAA,IAHA;AAIA,UAAA,QAAA,EAAA,IAAA,CAAA,QAJA;AAKA,UAAA,KAAA,EAAA,CAAA;AAAA,YAAA,IAAA,EAAA,IAAA,CAAA,IAAA;AAAA,YAAA,GAAA,EAAA,IAAA,CAAA;AAAA,WAAA,CALA;AAMA,UAAA,IAAA,EAAA,CACA;AACA,YAAA,GAAA,EAAA,OAAA,CAAA,+BAAA,CADA;AAEA,YAAA,SAAA,EAAA,OAAA,CAAA,sCAAA,CAFA;AAGA,YAAA,KAAA,EAAA,MAHA;AAIA,YAAA,MAAA,EAAA;AAJA,WADA,EAOA;AACA,YAAA,GAAA,EAAA,IAAA,CAAA,GADA;AAEA,YAAA,KAAA,EAAA,KAFA;AAGA,YAAA,GAAA,EAAA;AAHA,WAPA;AANA,SAAA;AAoBA,OArBA;AAsBA,WAAA,MAAA,GAAA,MAAA;AACA,KArCA;AAsCA,IAAA,aAtCA,2BAsCA;AAAA;;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,IAAA;AACA,UAAA,eAAA,GAAA,UAAA,CAAA,eAAA;;AACA,UAAA,CAAA,CAAA,eAAA,KAAA,KAAA,EAAA;AACA,QAAA,eAAA,GAAA,IAAA,CAAA,MAAA,KAAA,CAAA,IAAA,CAAA;AACA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,eAAA;AACA,OAFA,EAEA,UAAA,CAAA,OAFA,CAAA;AAGA,KA/CA;AAgDA,IAAA,WAhDA,uBAgDA,KAhDA,EAgDA;AAAA;;AAAA,UACA,IADA,GACA,KADA,CACA,IADA;AAAA,UACA,QADA,GACA,KADA,CACA,QADA;AAEA,UAAA,QAAA,GAAA,IAAA,CAAA,CAAA,CAAA,CAAA,GAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,SAAA,EAAA,GAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,QAAA,EAAA,QAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,SAAA,EAAA,QAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,SAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AAzDA,GAnCA;AA+FA,EAAA,OA/FA,qBA+FA;AACA,SAAA,WAAA;AACA;AAjGA,CAAA","sourcesContent":["<template>\n  <div class=\"lottery-turntable-component full-screen\">\n    <LuckyGrid\n      class=\"lucky-grid\"\n      ref=\"luckyGrid\"\n      width=\"300px\"\n      height=\"300px\"\n      :prizes=\"prizes\"\n      :blocks=\"blocks\"\n      :buttons=\"buttons\"\n      :default-style=\"defaultStyle\"\n      :active-style=\"activeStyle\"\n      @start=\"startCallBack\"\n      @end=\"endCallBack\"\n    />\n  </div>\n</template>\n\n<script>\nimport { GLOBAL_KEYS, gifts, homeConfig } from '../gift.setting.js';\nexport default {\n  name: 'LotteryTurntable',\n  data() {\n    this.defaultStyle = {\n      fontColor: \"#AFFFD7\",\n      fontSize: \"10px\",\n      lineHeight: \"13px\",\n      wordWrap: false,\n    };\n    this.activeStyle = {\n      fontColor: \"#fff\",\n    };\n    this.blocks = [\n      { padding: \"10px\", background: \"rgba(0, 0, 0, 0)\", borderRadius: \"10px\" },\n    ];\n    this.buttons = [\n      {\n        x: 1,\n        y: 1,\n        background: \"rgba(0, 0, 0, 0)\",\n        fonts: [],\n        imgs: [\n          {\n            src: require(\"../assets/images/button.png\"),\n            width: \"100%\",\n            top: \"0\",\n          },\n        ],\n      },\n    ];\n    return {\n      prizes: [],\n    };\n  },\n\n  methods: {\n    getGiftList() {\n      const prizes = [];\n      let axis = [[0, 0], [1, 0], [2, 0], [2, 1], [2, 2], [1, 2], [0, 2], [0, 1],];\n      let data = gifts.map(item => {\n        return {\n          fullName: item.name,\n          name: item.alias,\n          img: require(`../../public${item.image}`),\n          top: '70%',\n        };\n      });\n      \n      // let data = [];\n      data.forEach((item, index) => {\n        prizes.push({\n          x: axis[index][0],\n          y: axis[index][1],\n          title: item.name,\n          fullName: item.fullName,\n          fonts: [{ text: item.name, top: item.top }],\n          imgs: [\n            {\n              src: require('../assets/images/block-bg.png'),\n              activeSrc: require('../assets/images/active-block-bg.png'),\n              width: '100%',\n              height: '100%',\n            },\n            {\n              src: item.img,\n              width: '70%',\n              top: '3%',\n            },\n          ],\n        });\n      });\n      this.prizes = prizes;\n    },\n    startCallBack () {\n      this.$refs.luckyGrid.play();\n      let targetGiftIndex = homeConfig.targetGiftIndex;\n      if (!!targetGiftIndex === false) {\n        targetGiftIndex = Math.random() * 8 >> 0;\n      }\n      setTimeout(() => {\n        this.$refs.luckyGrid.stop(targetGiftIndex)\n      }, homeConfig.timeout);\n    },\n    endCallBack (prize) {\n      const { imgs, fullName } = prize;\n      const imageUrl = imgs[1].src;\n      localStorage.setItem(GLOBAL_KEYS.EXIST_KEY, '1');\n      localStorage.setItem(GLOBAL_KEYS.NAME_KEY, fullName);\n      localStorage.setItem(GLOBAL_KEYS.IMAGE_KEY, imageUrl);\n      setTimeout(() => {\n        this.$emit('success');\n      }, 1200);\n    }\n  },\n\n  mounted() {\n    this.getGiftList();\n  }, \n};\n</script>\n\n<style scoped>\n.lottery-turntable-component {\n  background-color: #fad3e6;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.lucky-grid {\n  width: 300px;\n  height: 300px;\n  background: rgb(245, 171, 184);\n  position: relative;\n  border-radius: 8px;\n  overflow: hidden;\n}\n</style>"],"sourceRoot":"src/components"}]}