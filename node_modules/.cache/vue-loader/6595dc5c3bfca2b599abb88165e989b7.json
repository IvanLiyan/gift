{"remainingRequest":"/Users/ili/Documents/github/gift/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ili/Documents/github/gift/src/components/Lottery.Turntable.vue?vue&type=style&index=0&id=6358b7bd&scoped=true&lang=css&","dependencies":[{"path":"/Users/ili/Documents/github/gift/src/components/Lottery.Turntable.vue","mtime":1645501590959},{"path":"/Users/ili/Documents/github/gift/node_modules/css-loader/dist/cjs.js","mtime":1645501672901},{"path":"/Users/ili/Documents/github/gift/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1645501675423},{"path":"/Users/ili/Documents/github/gift/node_modules/postcss-loader/src/index.js","mtime":1645501673262},{"path":"/Users/ili/Documents/github/gift/node_modules/cache-loader/dist/cjs.js","mtime":1645501672170},{"path":"/Users/ili/Documents/github/gift/node_modules/vue-loader/lib/index.js","mtime":1645501675185}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG90dGVyeS10dXJudGFibGUtY29tcG9uZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFkM2U2OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoubHVja3ktZ3JpZCB7CiAgd2lkdGg6IDMwMHB4OwogIGhlaWdodDogMzAwcHg7CiAgYmFja2dyb3VuZDogcmdiKDI0NSwgMTcxLCAxODQpOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQo="},{"version":3,"sources":["Lottery.Turntable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Lottery.Turntable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"lottery-turntable-component full-screen\">\n    <LuckyGrid\n      class=\"lucky-grid\"\n      ref=\"luckyGrid\"\n      width=\"300px\"\n      height=\"300px\"\n      :prizes=\"prizes\"\n      :blocks=\"blocks\"\n      :buttons=\"buttons\"\n      :default-style=\"defaultStyle\"\n      :active-style=\"activeStyle\"\n      @start=\"startCallBack\"\n      @end=\"endCallBack\"\n    />\n  </div>\n</template>\n\n<script>\nimport { GLOBAL_KEYS, gifts, homeConfig } from '../gift.setting.js';\nexport default {\n  name: 'LotteryTurntable',\n  data() {\n    this.defaultStyle = {\n      fontColor: \"#AFFFD7\",\n      fontSize: \"10px\",\n      lineHeight: \"13px\",\n      wordWrap: false,\n    };\n    this.activeStyle = {\n      fontColor: \"#fff\",\n    };\n    this.blocks = [\n      { padding: \"10px\", background: \"rgba(0, 0, 0, 0)\", borderRadius: \"10px\" },\n    ];\n    this.buttons = [\n      {\n        x: 1,\n        y: 1,\n        background: \"rgba(0, 0, 0, 0)\",\n        fonts: [],\n        imgs: [\n          {\n            src: require(\"../assets/images/button.png\"),\n            width: \"100%\",\n            top: \"0\",\n          },\n        ],\n      },\n    ];\n    return {\n      prizes: [],\n    };\n  },\n\n  methods: {\n    getGiftList() {\n      const prizes = [];\n      let axis = [[0, 0], [1, 0], [2, 0], [2, 1], [2, 2], [1, 2], [0, 2], [0, 1],];\n      let data = gifts.map(item => {\n        return {\n          fullName: item.name,\n          name: item.alias,\n          img: require(`../../public${item.image}`),\n          top: '70%',\n        };\n      });\n      \n      // let data = [];\n      data.forEach((item, index) => {\n        prizes.push({\n          x: axis[index][0],\n          y: axis[index][1],\n          title: item.name,\n          fullName: item.fullName,\n          fonts: [{ text: item.name, top: item.top }],\n          imgs: [\n            {\n              src: require('../assets/images/block-bg.png'),\n              activeSrc: require('../assets/images/active-block-bg.png'),\n              width: '100%',\n              height: '100%',\n            },\n            {\n              src: item.img,\n              width: '70%',\n              top: '3%',\n            },\n          ],\n        });\n      });\n      this.prizes = prizes;\n    },\n    startCallBack () {\n      this.$refs.luckyGrid.play();\n      let targetGiftIndex = homeConfig.targetGiftIndex;\n      if (!!targetGiftIndex === false) {\n        targetGiftIndex = Math.random() * 8 >> 0;\n      }\n      setTimeout(() => {\n        this.$refs.luckyGrid.stop(targetGiftIndex)\n      }, homeConfig.timeout);\n    },\n    endCallBack (prize) {\n      const { imgs, fullName } = prize;\n      const imageUrl = imgs[1].src;\n      localStorage.setItem(GLOBAL_KEYS.EXIST_KEY, '1');\n      localStorage.setItem(GLOBAL_KEYS.NAME_KEY, fullName);\n      localStorage.setItem(GLOBAL_KEYS.IMAGE_KEY, imageUrl);\n      setTimeout(() => {\n        this.$emit('success');\n      }, 1200);\n    }\n  },\n\n  mounted() {\n    this.getGiftList();\n  }, \n};\n</script>\n\n<style scoped>\n.lottery-turntable-component {\n  background-color: #fad3e6;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.lucky-grid {\n  width: 300px;\n  height: 300px;\n  background: rgb(245, 171, 184);\n  position: relative;\n  border-radius: 8px;\n  overflow: hidden;\n}\n</style>"]}]}